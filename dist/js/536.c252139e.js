"use strict";(self["webpackChunkcs2305_his"]=self["webpackChunkcs2305_his"]||[]).push([[536],{8696:function(e,l){l.Z=(e,l)=>{const a=e.__vccOpts||e;for(const[u,r]of l)a[u]=r;return a}},2536:function(e,l,a){a.r(l),a.d(l,{default:function(){return v}});a(4119);var u=a(7279),r=a(7313),t=a(1481),o=a(5448),s=a(7115);const n=e=>((0,u.dD)("data-v-8178017e"),e=e(),(0,u.Cn)(),e),i=n((()=>(0,u._)("h2",{class:"register_title"},"欢迎使用CS2305.HIS管理系统",-1))),d=(0,u.Uk)("患者"),m=(0,u.Uk)("医生"),p=(0,u.Uk)("管理员"),c=(0,u.Uk)("注册");var g={name:"RegisterView",setup(e){const l=(0,r.iH)(null),a=(0,r.iH)("patient"),n={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"},{pattern:/^[a-zA-Z0-9\u4e00-\u9fa5]+$/,message:"用户名只能包含数字、字母、汉字",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:1,max:15,message:"长度在 1 到 15 个字符",trigger:"blur"},{pattern:/^[a-zA-Z0-9]+$/,message:"密码只能包含数字、字母",trigger:"blur"}],confirmpassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:(e,l,a)=>{l!==f.value?a(new Error("两次输入的密码不一致")):a()},trigger:"blur"}]},g=(0,o.oR)(),f=(0,r.iH)(""),w=(0,r.iH)(""),v=(0,r.iH)(""),b=async()=>{const e=await t.Z.register(w.value,f.value,a.value);console.log(e.data),g.commit("setUser",e.data.user),s.Z.push({path:"/MyPage"})},_=()=>{console.log("click"),console.log(l.value),null!==l.value&&l.value.validate((e=>{if(!e)return console.log("error submit!!"),!1;b(),console.log("submit!")}))};return(e,r)=>{const t=(0,u.up)("el-input"),o=(0,u.up)("el-form-item"),s=(0,u.up)("el-radio"),g=(0,u.up)("el-radio-group"),b=(0,u.up)("el-button"),h=(0,u.up)("el-col"),W=(0,u.up)("el-form"),V=(0,u.up)("el-row");return(0,u.wg)(),(0,u.j4)(V,{style:{"align-items":"center","justify-content":"center",height:"100% width:100%"}},{default:(0,u.w5)((()=>[(0,u.Wm)(W,{ref_key:"form",ref:l,model:{username:w.value,password:f.value,confirmpassword:v.value},rules:n,"status-icon":"","label-position":"top","label-width":"100px","max-width":"800px"},{default:(0,u.w5)((()=>[i,(0,u.Wm)(o,{label:"用户名",prop:"username"},{default:(0,u.w5)((()=>[(0,u.Wm)(t,{modelValue:w.value,"onUpdate:modelValue":r[0]||(r[0]=e=>w.value=e),placeholder:"用户名长度为1-10，由数字、字母、汉字组成"},null,8,["modelValue"])])),_:1}),(0,u.Wm)(o,{label:"密码",prop:"password"},{default:(0,u.w5)((()=>[(0,u.Wm)(t,{modelValue:f.value,"onUpdate:modelValue":r[1]||(r[1]=e=>f.value=e),placeholder:"密码长度为1-15，由数字、字母组成"},null,8,["modelValue"])])),_:1}),(0,u.Wm)(o,{label:"身份",prop:"role"},{default:(0,u.w5)((()=>[(0,u.Wm)(g,{modelValue:a.value,"onUpdate:modelValue":r[2]||(r[2]=e=>a.value=e)},{default:(0,u.w5)((()=>[(0,u.Wm)(s,{label:"patient"},{default:(0,u.w5)((()=>[d])),_:1}),(0,u.Wm)(s,{label:"doctor"},{default:(0,u.w5)((()=>[m])),_:1}),(0,u.Wm)(s,{label:"admin"},{default:(0,u.w5)((()=>[p])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,u.Wm)(o,{label:"确认密码",prop:"confirmpassword"},{default:(0,u.w5)((()=>[(0,u.Wm)(t,{modelValue:v.value,"onUpdate:modelValue":r[3]||(r[3]=e=>v.value=e),placeholder:"请确认您的密码"},null,8,["modelValue"])])),_:1}),(0,u.Wm)(o,null,{default:(0,u.w5)((()=>[(0,u.Wm)(h,{span:24,style:{"text-align":"center"}},{default:(0,u.w5)((()=>[(0,u.Wm)(b,{round:"",plain:"",type:"info",size:"large",onClick:r[4]||(r[4]=e=>_(l.value))},{default:(0,u.w5)((()=>[c])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})}}},f=a(8696);const w=(0,f.Z)(g,[["__scopeId","data-v-8178017e"]]);var v=w}}]);